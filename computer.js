img="";
status1="";
objects=[];
function preload(){
    img= loadImage("data:image/jpeg;base64,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");
}
function setup(){
    canvas=createCanvas(640,420);
    canvas.center();
    objectdetector=ml5.objectDetector('cocossd',modelloaded);
    document.getElementById("status").innerHTML="Status:Detecting Objects";

}
function modelloaded(){
    console.log("Model is Loaded");
    status1=true;
    objectdetector.detect(img,gotresults);
}
function gotresults(error,results){
if(error){
    console.log(error);
}else{
    console.log(results);
    objects=results;
}
}
function draw(){
    image(img,0,0,640,420);
     if (status1!="") {
       for (i = 0; i < objects.length; i++) {
           document.getElementById("status").innerHTML = "Status: Objects Detected";
           fill("red");
           percent=floor(objects[i].confidence*100);
           text(objects[i].label+" "+percent+"%",objects[i].x,objects[i].y);
           noFill();
           stroke("red");
           rect(objects[i].x,objects[i].y,objects[i].width,objects[i].height);
           
       }
     }
   }